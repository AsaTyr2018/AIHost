<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Repository Registry</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootswatch@5.3.0/dist/darkly/bootstrap.min.css">
  <style>
    .form-control {
      background-color: #333;
      color: #fff;
    }
    .form-control::placeholder {
      color: #ddd;
    }
  </style>
</head>
<body class="container py-4 bg-dark text-light">
  <h1 class="mb-4">Repository Registry</h1>
  <form class="mb-3 rounded" method="post">
    <div class="mb-2">
      <input class="form-control" name="name" placeholder="Name" required />
    </div>
    <div class="mb-2">
      <input class="form-control" name="url" placeholder="Git Repository URL" required />
    </div>
    <div class="mb-2">
      <input class="form-control" name="start_command" placeholder="Start Command" required />
    </div>
    <div class="mb-2">
      <input class="form-control" name="requirements_file" placeholder="Requirements File (optional)" />
    </div>
    <button class="btn btn-primary">Add Repo</button>
  </form>
  <table class="table table-dark table-striped rounded">
    <tr><th>Name</th><th>URL</th><th>Start Command</th><th>Requirements</th><th colspan="2"></th></tr>
    {% for r in repos %}
    <tr>
      <td>{{ r.name }}</td>
      <td>{{ r.url }}</td>
      <td>{{ r.start_command }}</td>
      <td>{{ r.requirements_file }}</td>
      <td>
        <form class="d-inline-block rounded" method="post">
          <button class="btn btn-sm btn-secondary" name="install" value="{{ r.name }}">Install</button>
        </form>
      </td>
      <td>
        <form class="d-inline-block rounded" method="post">
          <button class="btn btn-sm btn-danger" name="delete" value="{{ r.name }}">Delete</button>
        </form>
      </td>
    </tr>
    {% endfor %}
  </table>
  <a href="{{ url_for('dashboard') }}">Back to Dashboard</a>
</body>
</html>
